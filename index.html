<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SIDDHARTH S NAIR | Trial Website</title>
  <meta name="description" content="Experimental tactical web art by Siddharth S Nair." />
  <link rel="icon" href="websku.png" type="image/png" />

  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

  <style>
    :root {
      --bhagva: #ff6f00;
      --primary: #00ff99;
      --bg: #0a0a0d;
      --accent2: #00d4ff;
      --font-main: 'Fira Mono', 'Menlo', 'Consolas', monospace;
    }

    html, body {
      height: 100%;
      margin: 0;
      background: var(--bg);
      font-family: var(--font-main);
      color: var(--primary);
      overflow-x: hidden;
    }

    body {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      padding-top: 3rem;
      position: relative;
    }

    #bg {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      z-index: 0;
      background: #000;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .header, main, footer {
      position: relative;
      z-index: 1;
      width: 100%;
      max-width: 960px;
      padding: 0 1rem;
    }

    .header {
      text-align: center;
      margin-bottom: 2.5rem;
    }

    .header h1 {
      font-size: 3rem;
      font-weight: 900;
      margin: 0;
      color: var(--bhagva);
    }

    .header p {
      margin: 0.5rem 0 0;
      font-size: 1.2rem;
      color: #b2ffe0;
    }

    .action-btn {
      display: block;
      margin: 2rem auto 3rem auto;
      padding: 0.8rem 2rem;
      font-size: 1.1rem;
      font-weight: 600;
      background: var(--accent2);
      color: #111;
      border: none;
      border-radius: 1.5rem;
      cursor: pointer;
      box-shadow: 0 0 16px rgba(0,212,255,0.25);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .action-btn:hover {
      box-shadow: 0 0 24px rgba(0,212,255,0.4);
      transform: translateY(-2px);
    }
    .action-btn:active { transform: scale(0.95); }

    #about {
      max-width: 640px;
      margin: 0 auto 3rem auto;
      padding: 1.5rem;
      background: #151515;
      border-radius: 1rem;
      text-align: center;
      box-shadow: 0 0 24px rgba(0,255,153,0.1);
      z-index: 2;
    }

    #about h2 {
      font-size: 1.6rem;
      color: var(--accent2);
      margin-bottom: 0.75rem;
    }

    #about p {
      font-size: 1.05rem;
      color: #e0ffe0;
      margin: 0;
      line-height: 1.5;
    }

    footer {
      text-align: center;
      margin: 2rem 0;
      font-size: 0.9rem;
      color: #b2ffe055;
    }
  </style>
</head>
<body>
  <div id="bg"></div>

  <div class="header">
    <h1>SIDDHARTH S NAIR</h1>
    <p>trial website – experimental</p>
  </div>

  <main>
    <button class="action-btn" id="transformBtn">Try This!</button>
    <section id="about">
      <h2>About Me</h2>
      <p>I am an ECE engineer exploring Web Development to showcase my projects!</p>
    </section>
  </main>

  <footer>
    &copy; <span id="year"></span> Siddharth. Crafted with ❤️
  </footer>

  <!-- Punisher audio -->
  <audio id="punisherSound" src="punishertitle.mp3" preload="auto"></audio>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    // THREE.js setup
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(70, window.innerWidth/window.innerHeight, 0.1, 1000);
    camera.position.z = 100;

    const renderer = new THREE.WebGLRenderer({ antialias:true });
    renderer.setSize(window.innerWidth, window.innerHeight);
    document.getElementById('bg').appendChild(renderer.domElement);

    // Digit textures
    function makeTexture(char, color){
      const c=document.createElement("canvas"); c.width=64; c.height=64;
      const ctx=c.getContext("2d");
      ctx.fillStyle=color; ctx.font="bold 48px monospace";
      ctx.textAlign="center"; ctx.textBaseline="middle";
      ctx.fillText(char,32,32);
      return new THREE.CanvasTexture(c);
    }
    const tex0g=makeTexture("0","#00ff55"), tex1g=makeTexture("1","#00ff55");
    const tex0o=makeTexture("0","#ff8800"), tex1o=makeTexture("1","#ff8800");

    function makeSprite(tex){
      const mat=new THREE.SpriteMaterial({map:tex,transparent:true});
      const s=new THREE.Sprite(mat); s.scale.set(3,3,1); return s;
    }

    const COUNT=2000;
    const sprites=[];
    const domePos=[], templePos=[];

    // Build dome positions
    for(let i=0;i<COUNT;i++){
      const phi=Math.random()*Math.PI/2;
      const theta=Math.random()*Math.PI*2;
      const r=30;
      const x=r*Math.sin(phi)*Math.cos(theta);
      const y=r*Math.cos(phi);
      const z=r*Math.sin(phi)*Math.sin(theta);
      domePos.push(new THREE.Vector3(x,y,z));
    }

    // Build temple positions (tiered)
    const tiers=10, tierHeight=4, baseRadius=25;
    for(let t=0;t<tiers;t++){
      const tierY=t*tierHeight;
      const tierR=baseRadius*(1-t/tiers);
      const cols=40-t*2;
      for(let c=0;c<cols;c++){
        const ang=(c/cols)*Math.PI*2;
        const x=tierR*Math.cos(ang);
        const z=tierR*Math.sin(ang);
        templePos.push(new THREE.Vector3(x,tierY,z));
      }
    }

    // Create sprites at dome positions
    for(let i=0;i<COUNT;i++){
      const tex=Math.random()>0.5?tex1g:tex0g;
      const s=makeSprite(tex);
      s.position.copy(domePos[i%domePos.length]);
      sprites.push(s); scene.add(s);
    }

    let detonated=false, reforming=false;

    function detonate(){
      detonated=true; reforming=false;
      // play punisher audio
      const sound=document.getElementById("punisherSound");
      if(sound){ sound.currentTime=0; sound.play().catch(()=>{}); }

      // scatter velocities
      sprites.forEach(s=>{
        s.userData.v=new THREE.Vector3(
          (Math.random()-0.5)*2,
          (Math.random()-0.5)*2,
          (Math.random()-0.5)*2
        );
      });
      // after 5s reform
      setTimeout(reformTemple,5000);
    }

    function reformTemple(){
      detonated=false; reforming=true;
      sprites.forEach((s,i)=>{
        s.material.map=Math.random()>0.5?tex1o:tex0o;
        s.userData.target=templePos[i%templePos.length];
      });
    }

    document.getElementById("transformBtn").onclick=detonate;

    function animate(){
      requestAnimationFrame(animate);
      sprites.forEach((s,i)=>{
        if(detonated && s.userData.v){
          s.position.add(s.userData.v);
          s.userData.v.multiplyScalar(0.95);
        }
        if(reforming && s.userData.target){
          s.position.lerp(s.userData.target,0.05);
        }
      });
     

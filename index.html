<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SIDDHARTH S NAIR | Trial Website</title>
  <meta name="description" content="Experimental tactical web art by Siddharth S Nair." />
  <link rel="icon" href="websku.png" type="image/png" />

  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

  <style>
    :root {
      --bhagva: #ff6f00;
      --primary: #00ff99;
      --bg: #0a0a0d;
      --accent2: #00d4ff;
      --skull-size: clamp(240px, 40vw, 420px);
      --font-main: 'Fira Mono', 'Menlo', 'Consolas', monospace;
    }

    html { height: 100%; background: var(--bg); }
    body {
      min-height: 100vh; margin: 0; padding: 0;
      background: transparent;
      font-family: var(--font-main); color: var(--primary);
      display: flex; flex-direction: column; align-items: center;
      justify-content: flex-start; position: relative; padding-top: 3rem;
      overflow-x: hidden;
    }

    #bg {
      position: fixed; top: 0; left: 0;
      width: 100%; height: 100%;
      z-index: 0; background: #000;
    }

    .header, main, footer { position: relative; z-index: 1; }
    .header { text-align: center; margin-bottom: 2rem; }
    .header h1 { font-size: 3rem; font-weight: 900; margin: 0; color: var(--bhagva); }
    .header p { margin: 0.5rem 0 0; font-size: 1.2rem; color: #b2ffe0; }

    .glitch-container {
      width: var(--skull-size);
      height: var(--skull-size);
      margin: 2rem auto;
      display: flex; align-items: center; justify-content: center;
      background: #1a1a1a;
      border-radius: 1rem;
      box-shadow: 0 0 0 1px #00ff9944;
      overflow: hidden;
    }
    canvas { width: 100%; height: 100%; display: block; }

    .action-btn {
      display: block; margin: 1.5rem auto 3rem auto;
      padding: 0.8rem 2rem; font-size: 1.1rem; font-weight: 600;
      background: var(--accent2); color: #111;
      border: none; border-radius: 1.5rem; cursor: pointer;
      box-shadow: 0 0 16px rgba(0,212,255,0.25);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .action-btn:hover { box-shadow: 0 0 24px rgba(0,212,255,0.4); transform: translateY(-2px); }
    .action-btn:active { transform: scale(0.95); }

    #about {
      max-width: 640px; margin: 0 auto 3rem auto; padding: 1.5rem;
      background: #151515; border-radius: 1rem; text-align: center;
      box-shadow: 0 0 24px rgba(0,255,153,0.1); z-index: 2;
    }
    #about h2 { font-size: 1.6rem; color: var(--accent2); margin-bottom: 0.75rem; }
    #about p { font-size: 1.05rem; color: #e0ffe0; margin: 0; line-height: 1.5; }

    footer { text-align:center; margin: 2rem 0; font-size: 0.9rem; color:#b2ffe055; }
  </style>
</head>
<body>
  <div id="bg"></div>

  <div class="header">
    <h1>SIDDHARTH S NAIR</h1>
    <p>trial website – experimental</p>
  </div>

  <main>
    <div class="glitch-container">
      <canvas id="transformCanvas"></canvas>
    </div>
    <button class="action-btn" id="transformBtn">Try This!</button>
    <section id="about">
      <h2>About Me</h2>
      <p>I am an ECE engineer exploring Web Development to showcase my projects!</p>
    </section>
  </main>

  <footer>
    &copy; <span id="year"></span> Siddharth. Crafted with ❤️
  </footer>

  <!-- Punisher audio -->
  <audio id="punisherSound" src="punishertitle.mp3" preload="auto"></audio>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    // Transformation Scene
    const canvas = document.getElementById("transformCanvas");
    const renderer = new THREE.WebGLRenderer({ canvas, antialias: true, alpha: true });
    const container = document.querySelector(".glitch-container");
    renderer.setSize(container.clientWidth, container.clientHeight);
    renderer.setPixelRatio(window.devicePixelRatio);

    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(70, container.clientWidth/container.clientHeight, 0.1, 1000);
    camera.position.z = 100;

    function makeTexture(char, color){
      const c=document.createElement("canvas"); c.width=64; c.height=64;
      const ctx=c.getContext("2d");
      ctx.fillStyle=color; ctx.font="bold 48px monospace";
      ctx.textAlign="center"; ctx.textBaseline="middle";
      ctx.fillText(char,32,32);
      return new THREE.CanvasTexture(c);
    }
    const tex0g=makeTexture("0","#00ff55"), tex1g=makeTexture("1","#00ff55");
    const tex0o=makeTexture("0","#ff8800"), tex1o=makeTexture("1","#ff8800");

    function makeSprite(tex){
      const mat=new THREE.SpriteMaterial({map:tex,transparent:true});
      const s=new THREE.Sprite(mat); s.scale.set(3,3,1); return s;
    }

    const COUNT=1200;
    const domePos=[], templePos=[], sprites=[];

    // Dome positions
    for(let i=0;i<COUNT;i++){
      const phi=Math.random()*Math.PI/2;
      const theta=Math.random()*Math.PI*2;
      const r=30;
      const x=r*Math.sin(phi)*Math.cos(theta);
      const y=r*Math.cos(phi);
      const z=r*Math.sin(phi)*Math.sin(theta);
      domePos.push(new THREE.Vector3(x,y,z));
    }

    // Temple positions
    const tiers=10, tierHeight=4, baseRadius=25;
    for(let t=0;t<tiers;t++){
      const tierY=t*tierHeight;
      const tierR=baseRadius*(1-t/tiers);
      const cols=40-t*2;
      for(let c=0;c<cols;c++){
        const ang=(c/cols)*Math.PI*2;
        const x=tierR*Math.cos(ang);
        const z=tierR*Math.sin(ang);
        templePos.push(new THREE.Vector3(x,tierY,z));
      }
    }

    // Sprites
    for(let i=0;i<COUNT;i++){
      const tex=Math.random()>0.5?tex1g:tex0g;
      const s=makeSprite(tex);
      s.position.copy(domePos[i%domePos.length]);
      sprites.push(s); scene.add(s);
    }

    let detonated=false, reforming=false;

    function detonate(){
      detonated=true; reforming=false;
      const sound=document.getElementById("punisherSound");
      if(sound){ sound.currentTime=0; sound.play().catch(()=>{}); }
      sprites.forEach(s=>{
        s.userData.v=new THREE.Vector3(
          (Math.random()-0.5)*2,
          (Math.random()-0.5)*2,
          (Math.random()-0.5)*2
        );
      });
      setTimeout(reformTemple,5000);
    }

    function reformTemple(){
      detonated=false; reforming=true;
      sprites.forEach((s,i)=>{
        s.material.map=Math.random()>0.5?tex1o:tex0o;
        s.userData
